(()=>{"use strict";function e(e){const t=document.querySelector("main");for(;t.firstChild;)t.removeChild(t.lastChild);e.forEach((e=>{if("Task"===e.type){const n=document.createElement("div");n.classList.add("taskCard");const d=document.createElement("h3");d.innerText=e.title;const l=document.createElement("p");l.innerText=e.description;const i=document.createElement("p");i.innerText=e.dueDate;const a=document.createElement("p");a.innerText=e.dueTime;const r=document.createElement("p");r.innerText=e.priority,t.appendChild(n),n.appendChild(d),n.appendChild(l),n.appendChild(i),n.appendChild(a),n.appendChild(r)}else if("Note"===e.type){const n=document.createElement("div");n.classList.add("noteCard");const d=document.createElement("h3");d.innerText=e.title;const l=document.createElement("p");l.innerText=e.description,t.appendChild(n),n.appendChild(d),n.appendChild(l)}else if("List"===e.type){const n=document.createElement("div");n.classList.add("listCard");const d=document.createElement("h3");d.innerText=e.title;const l=document.createElement("ul");e.listItems&&e.listItems.length>0&&e.listItems.forEach((e=>{const t=document.createElement("li");t.innerText=e,l.appendChild(t)})),t.appendChild(n),n.appendChild(d),n.appendChild(l)}}))}let t=[];class n{constructor(e,t,n,d=void 0,l=void 0,i=void 0,a=[]){this.type=e,this.title=t,this.description=n,this.dueDate=d,this.dueTime=l,this.priority=i,this.listItems=a}pushToList(){return t.push(this),t}}let d=[],l=[],i=[];const a=()=>{let a=document.getElementById("type").value,r=document.getElementById("title"),c=r?r.value:void 0,o=document.getElementById("description"),p=o?o.value:void 0,u=document.getElementById("dueDate"),m=u?u.value:void 0,s=document.getElementById("dueTime"),h=s?s.value:void 0,E=document.getElementById("priority"),C=E?E.value:void 0,v=[],y=document.getElementById("listItemsContainer");if(y){let e=y.getElementsByTagName("input");for(let t of e)v.push(t.value)}let b=new n(a,c,p,m,h,C,v);"Task"===b.type?d.push(b):"Note"===b.type?l.push(b):i.push(b),b.pushToList(),e(t)};let r=[];function c(){let e=document.getElementById("projectTitle").value,n=!1;for(const t of r)if(t[0]===e){n=!0;break}if(n){console.log("1",r),a(),r.find((t=>t[0]===e)).push(t[t.length-1]),console.log("2",r);let n=p.querySelector("span");n&&n.remove(),p.appendChild(document.createElement("span")).innerText=`${document.getElementById("projectTitle").value} already exists! Todo added to existing project.`}else{a();const n=[e,t[t.length-1]];r.push(n);let d=p.querySelector("span");d&&d.remove(),p.appendChild(document.createElement("span")).innerText=`Todo Created and added to ${document.getElementById("projectTitle").value}!`}}!function(){let t=document.querySelector("#projectBtn"),n=document.querySelector("#projectDiv");t.addEventListener("click",(()=>{for(;n.firstChild;)n.removeChild(n.lastChild);r.forEach(((t,d)=>{let l=document.createElement("button");l.setAttribute("data-index",d),l.innerText=t[0],n.appendChild(l),l.addEventListener("click",(()=>{e(t)}))}))}))}();const o=document.querySelector(".modalBody"),p=document.createElement("form");function u(e,t){var n=document.createElement("label");return n.textContent=e+":",n.setAttribute("for",t),n}function m(e,t){var n=document.createElement("input");return n.type=e,n.id=t,n.name=t,n.required="dueDate"!==t&&"dueTime"!==t,n}function s(e){var t=document.createElement("textarea");return t.id=e,t.name=e,t.rows="4",t.cols="50",t}function h(e,t){var n=document.createElement("select");n.id=e,n.name=e,n.required=!0;for(var d=0;d<t.length;d++){var l=document.createElement("option");l.value=t[d],l.text=t[d],n.appendChild(l)}return n}p.id="todoForm",p.appendChild(u("Type","type")),p.appendChild(h("type",["","Task","Note","List","Project"])),p.appendChild(document.createElement("br")),p.appendChild(document.createElement("br")),o.appendChild(p),document.getElementById("type").addEventListener("change",(()=>{let e=document.getElementById("type");if("Note"===e.value)v(),p.appendChild(u("Title","title")),p.appendChild(m("text","title")),p.appendChild(document.createElement("br")),p.appendChild(document.createElement("br")),p.appendChild(u("Description","description")),p.appendChild(s("description")),p.appendChild(document.createElement("br")),p.appendChild(document.createElement("br")),(n=document.createElement("input")).type="submit",n.value="Create Todo",n.setAttribute("data-type","submit-button"),p.appendChild(n),(d=document.createElement("input")).type="submit",d.value="Add to Project",d.setAttribute("data-type","project-form-build-button"),p.appendChild(d),d.addEventListener("click",y),d.addEventListener("click",(e=>e.preventDefault())),n.addEventListener("click",(e=>{e.preventDefault(),a()}));else if("Task"===e.value)v(),p.appendChild(u("Title","title")),p.appendChild(m("text","title")),p.appendChild(document.createElement("br")),p.appendChild(document.createElement("br")),p.appendChild(u("Description","description")),p.appendChild(s("description")),p.appendChild(document.createElement("br")),p.appendChild(document.createElement("br")),p.appendChild(u("Due Date","dueDate")),p.appendChild(m("date","dueDate")),p.appendChild(document.createElement("br")),p.appendChild(document.createElement("br")),p.appendChild(u("Due Time","dueTime")),p.appendChild(m("time","dueTime")),p.appendChild(document.createElement("br")),p.appendChild(document.createElement("br")),p.appendChild(u("Priority","priority")),p.appendChild(h("priority",["Low","Medium","High"])),p.appendChild(document.createElement("br")),p.appendChild(document.createElement("br")),(n=document.createElement("input")).type="submit",n.value="Create Todo",n.setAttribute("data-type","submit-button"),p.appendChild(n),(d=document.createElement("input")).type="submit",d.value="Add to Project",d.setAttribute("data-type","project-form-build-button"),p.appendChild(d),d.addEventListener("click",y),d.addEventListener("click",(e=>e.preventDefault())),n.addEventListener("click",(e=>{e.preventDefault(),a()}));else if("List"===e.value){v(),p.appendChild(u("Title","title")),p.appendChild(m("text","title")),p.appendChild(document.createElement("br")),p.appendChild(document.createElement("br")),p.appendChild(u("List Items","listItems")),p.appendChild(document.createElement("br"));var t=document.createElement("div");t.id="listItemsContainer";let r=0;function o(){if(r<13){var e=m("text","li");t.appendChild(e),t.appendChild(document.createElement("br")),r+=1}}o(),p.appendChild(t),p.appendChild(document.createElement("br"));var n,d,l=document.createElement("button");l.textContent="Add List Item",l.addEventListener("click",o),p.appendChild(l),(n=document.createElement("input")).type="submit",n.value="Create Todo",n.setAttribute("data-type","submit-button"),p.appendChild(n),(d=document.createElement("input")).type="submit",d.value="Add to Project",d.setAttribute("data-type","project-form-build-button"),p.appendChild(d),d.addEventListener("click",y),d.addEventListener("click",(e=>e.preventDefault())),n.addEventListener("click",(e=>{e.preventDefault(),a()}))}else if("Project"===e.value){v(),p.appendChild(u("Project Title","projectTitle")),p.appendChild(m("text","projectTitle")),p.appendChild(document.createElement("br")),p.appendChild(document.createElement("br"));var i=document.createElement("input");i.type="submit",i.value="Create Project",i.setAttribute("data-type","project-create-button"),p.appendChild(i),i.addEventListener("click",(e=>{e.preventDefault(),c();let t=p.querySelector("span");t&&t.remove(),p.appendChild(document.createElement("span")).innerText="Project Created!"}))}}));const E=()=>{null!=modal&&(modal.classList.remove("active"),overlay.classList.remove("active"))},C=()=>{p.appendChild(document.createElement("br")),p.appendChild(document.createElement("br")),p.appendChild(u("Project Title","projectTitle")),p.appendChild(m("text","projectTitle")),p.appendChild(document.createElement("br")),p.appendChild(document.createElement("br"));var e=document.createElement("input");e.type="submit",e.value="Create Todo and add to Project",e.setAttribute("data-type","project-create-button"),p.appendChild(e),e.addEventListener("click",(e=>{e.preventDefault();let t=p.querySelector("span");t&&t.remove(),c()}))},v=()=>{for(var e=p.children;4<e.length;)p.removeChild(e[4])};function y(e){e.preventDefault(),C(),document.querySelector('[data-type="project-form-build-button"]').removeEventListener("click",y)}const b=document.querySelectorAll("[data-close-button]"),f=document.getElementById("overlay"),T=document.querySelectorAll('[data-type="formBtn"]');f.addEventListener("click",(()=>{document.querySelectorAll(".modal.active").forEach((e=>{E()}))})),T.forEach((e=>{e.addEventListener("click",(()=>{null!=modal&&(modal.classList.add("active"),overlay.classList.add("active"))}))})),b.forEach((e=>{e.addEventListener("click",(()=>{E()}))})),(()=>{const n=document.querySelector("[data-lists]"),a=document.querySelector("[data-notes]"),r=document.querySelector("[data-tasks]"),c=document.querySelector("[data-all]");a.addEventListener("click",(()=>{e(l)})),r.addEventListener("click",(()=>{e(d)})),c.addEventListener("click",(()=>{e(t)})),n.addEventListener("click",(()=>{e(i)}))})()})();