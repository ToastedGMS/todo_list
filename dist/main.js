(()=>{"use strict";let e=[];class t{constructor(e,t,n,d=void 0,l=void 0,i=void 0,a=[]){this.type=e,this.title=t,this.description=n,this.dueDate=d,this.dueTime=l,this.priority=i,this.listItems=a}pushToList(){return e.push(this),e}}function n(t){const d=document.querySelector("main");for(;d.firstChild;)d.removeChild(d.lastChild);t.forEach(((l,i)=>{const a=t.indexOf(l);if("Task"===l.type){const t=document.createElement("div");t.classList.add("taskCard");const i=document.createElement("h3");i.innerText=l.title;const r=document.createElement("p");r.innerText=l.description;const c=document.createElement("p");c.innerText=l.dueDate;const o=document.createElement("p");o.innerText=l.dueTime;const p=document.createElement("p");p.innerText=l.priority;const u=document.createElement("button");u.setAttribute("data-type","delete-button"),u.addEventListener("click",(()=>{confirm("Are you sure you want to delete the todo?")&&(e.splice(a,1),n(e))})),d.appendChild(t),t.appendChild(i),t.appendChild(r),t.appendChild(c),t.appendChild(o),t.appendChild(p),t.appendChild(document.createElement("br")),t.appendChild(u).innerText="Delete"}else if("Note"===l.type){const t=document.createElement("div");t.classList.add("noteCard"),t.setAttribute("data-index",i);const r=document.createElement("h3");r.innerText=l.title;const c=document.createElement("p");c.innerText=l.description;const o=document.createElement("button");o.setAttribute("data-type","delete-button"),o.addEventListener("click",(()=>{confirm("Are you sure you want to delete the todo?")&&(e.splice(a,1),n(e))})),d.appendChild(t),t.appendChild(r),t.appendChild(c),t.appendChild(document.createElement("br")),t.appendChild(o).innerText="Delete"}else if("List"===l.type){const t=document.createElement("div");t.classList.add("listCard"),t.setAttribute("data-index",i);const r=document.createElement("h3");r.innerText=l.title;const c=document.createElement("ul");l.listItems&&l.listItems.length>0&&l.listItems.forEach((e=>{const t=document.createElement("li");t.innerText=e,c.appendChild(t)}));const o=document.createElement("button");o.setAttribute("data-type","delete-button"),o.addEventListener("click",(()=>{confirm("Are you sure you want to delete the todo?")&&(e.splice(a,1),n(e))})),d.appendChild(t),t.appendChild(r),t.appendChild(c),t.appendChild(document.createElement("br")),t.appendChild(o).innerText="Delete"}}))}const d=()=>{let d=document.getElementById("type").value,l=document.getElementById("title"),i=l?l.value:void 0,a=document.getElementById("description"),r=a?a.value:void 0,c=document.getElementById("dueDate"),o=c?c.value:void 0,p=document.getElementById("dueTime"),u=p?p.value:void 0,m=document.getElementById("priority"),s=m?m.value:void 0,h=[],E=document.getElementById("listItemsContainer");if(E){let e=E.getElementsByTagName("input");for(let t of e)h.push(t.value)}new t(d,i,r,o,u,s,h).pushToList(),n(e)};let l=[];function i(){let t=document.getElementById("projectTitle").value,n=!1;for(const e of l)if(e[0]===t){n=!0;break}if(n){d(),l.find((e=>e[0]===t)).push(e[e.length-1]);let n=r.querySelector("span");n&&n.remove(),r.appendChild(document.createElement("span")).innerText=`${document.getElementById("projectTitle").value} already exists! Todo added to existing project.`}else{d();const n=[t,e[e.length-1]];l.push(n);let i=r.querySelector("span");i&&i.remove(),r.appendChild(document.createElement("span")).innerText=`Todo Created and added to ${document.getElementById("projectTitle").value}!`}}!function(){let e=document.querySelector("#projectBtn"),t=document.querySelector("#projectDiv");e.addEventListener("click",(()=>{for(;t.firstChild;)t.removeChild(t.lastChild);l.forEach((e=>{let d=document.createElement("button"),i=l.indexOf(e);d.innerText=e[0],t.appendChild(d),d.addEventListener("click",(()=>{n(e)}));let a=document.createElement("button");a.innerText="delet",t.appendChild(a),t.appendChild(document.createElement("br")),t.appendChild(document.createElement("br")),a.addEventListener("click",(()=>{confirm("Are you sure you want to delete the project?")&&l.splice(i,1)}))}))}))}();const a=document.querySelector(".modalBody"),r=document.createElement("form");function c(e,t){var n=document.createElement("label");return n.textContent=e+":",n.setAttribute("for",t),n}function o(e,t){var n=document.createElement("input");return n.type=e,n.id=t,n.name=t,n.setAttribute("maxlength","13"),n.required="dueDate"!==t&&"dueTime"!==t,n}function p(e){var t=document.createElement("textarea");return t.id=e,t.name=e,t.rows="4",t.cols="50",t}function u(e,t){var n=document.createElement("select");n.id=e,n.name=e,n.required=!0;for(var d=0;d<t.length;d++){var l=document.createElement("option");l.value=t[d],l.text=t[d],n.appendChild(l)}return n}r.id="todoForm",r.appendChild(c("Type","type")),r.appendChild(u("type",["","Task","Note","List","Project"])),r.appendChild(document.createElement("br")),r.appendChild(document.createElement("br")),a.appendChild(r),document.getElementById("type").addEventListener("change",(()=>{let e=document.getElementById("type");if("Note"===e.value)h(),r.appendChild(c("Title","title")),r.appendChild(o("text","title")),r.appendChild(document.createElement("br")),r.appendChild(document.createElement("br")),r.appendChild(c("Description","description")),r.appendChild(p("description")),r.appendChild(document.createElement("br")),r.appendChild(document.createElement("br")),(n=document.createElement("input")).type="submit",n.value="Create Todo",n.setAttribute("data-type","submit-button"),r.appendChild(n),(l=document.createElement("input")).type="submit",l.value="Add to Project",l.setAttribute("data-type","project-form-build-button"),r.appendChild(l),l.addEventListener("click",E),l.addEventListener("click",(e=>e.preventDefault())),n.addEventListener("click",(e=>{e.preventDefault(),d()}));else if("Task"===e.value)h(),r.appendChild(c("Title","title")),r.appendChild(o("text","title")),r.appendChild(document.createElement("br")),r.appendChild(document.createElement("br")),r.appendChild(c("Description","description")),r.appendChild(p("description")),r.appendChild(document.createElement("br")),r.appendChild(document.createElement("br")),r.appendChild(c("Due Date","dueDate")),r.appendChild(o("date","dueDate")),r.appendChild(document.createElement("br")),r.appendChild(document.createElement("br")),r.appendChild(c("Due Time","dueTime")),r.appendChild(o("time","dueTime")),r.appendChild(document.createElement("br")),r.appendChild(document.createElement("br")),r.appendChild(c("Priority","priority")),r.appendChild(u("priority",["Low","Medium","High"])),r.appendChild(document.createElement("br")),r.appendChild(document.createElement("br")),(n=document.createElement("input")).type="submit",n.value="Create Todo",n.setAttribute("data-type","submit-button"),r.appendChild(n),(l=document.createElement("input")).type="submit",l.value="Add to Project",l.setAttribute("data-type","project-form-build-button"),r.appendChild(l),l.addEventListener("click",E),l.addEventListener("click",(e=>e.preventDefault())),n.addEventListener("click",(e=>{e.preventDefault(),d()}));else if("List"===e.value){h(),r.appendChild(c("Title","title")),r.appendChild(o("text","title")),r.appendChild(document.createElement("br")),r.appendChild(document.createElement("br")),r.appendChild(c("List Items","listItems")),r.appendChild(document.createElement("br"));var t=document.createElement("div");t.id="listItemsContainer";let s=0;function C(){if(s<13){var e=o("text","li");t.appendChild(e),t.appendChild(document.createElement("br")),s+=1}}C(),r.appendChild(t),r.appendChild(document.createElement("br"));var n,l,a=document.createElement("button");a.textContent="Add List Item",a.addEventListener("click",C),r.appendChild(a),(n=document.createElement("input")).type="submit",n.value="Create Todo",n.setAttribute("data-type","submit-button"),r.appendChild(n),(l=document.createElement("input")).type="submit",l.value="Add to Project",l.setAttribute("data-type","project-form-build-button"),r.appendChild(l),l.addEventListener("click",E),l.addEventListener("click",(e=>e.preventDefault())),n.addEventListener("click",(e=>{e.preventDefault(),d()}))}else if("Project"===e.value){h(),r.appendChild(c("Project Title","projectTitle")),r.appendChild(o("text","projectTitle")),r.appendChild(document.createElement("br")),r.appendChild(document.createElement("br"));var m=document.createElement("input");m.type="submit",m.value="Create Project",m.setAttribute("data-type","project-create-button"),r.appendChild(m),m.addEventListener("click",(e=>{e.preventDefault(),i();let t=r.querySelector("span");t&&t.remove(),r.appendChild(document.createElement("span")).innerText="Project Created!"}))}}));const m=()=>{null!=modal&&(modal.classList.remove("active"),overlay.classList.remove("active"))},s=()=>{r.appendChild(document.createElement("br")),r.appendChild(document.createElement("br")),r.appendChild(c("Project Title","projectTitle")),r.appendChild(o("text","projectTitle")),r.appendChild(document.createElement("br")),r.appendChild(document.createElement("br"));var e=document.createElement("input");e.type="submit",e.value="Create Todo and add to Project",e.setAttribute("data-type","project-create-button"),r.appendChild(e),e.addEventListener("click",(e=>{e.preventDefault();let t=r.querySelector("span");t&&t.remove(),i()}))},h=()=>{for(var e=r.children;4<e.length;)r.removeChild(e[4])};function E(e){e.preventDefault(),s(),document.querySelector('[data-type="project-form-build-button"]').removeEventListener("click",E)}let C=[],v=[],y=[];const b=document.querySelectorAll("[data-close-button]"),f=document.getElementById("overlay"),T=document.querySelectorAll('[data-type="formBtn"]');f.addEventListener("click",(()=>{document.querySelectorAll(".modal.active").forEach((e=>{m()}))})),T.forEach((e=>{e.addEventListener("click",(()=>{null!=modal&&(modal.classList.add("active"),overlay.classList.add("active"))}))})),b.forEach((e=>{e.addEventListener("click",(()=>{m()}))})),(()=>{const t=document.querySelector("[data-lists]"),d=document.querySelector("[data-notes]"),l=document.querySelector("[data-tasks]");document.querySelector("[data-all]").addEventListener("click",(()=>{n(e)})),d.addEventListener("click",(()=>{C.splice(0,C.length),e.forEach((e=>{"Note"===e.type&&C.push(e),n(C)}))})),l.addEventListener("click",(()=>{v.splice(0,v.length),e.forEach((e=>{"Task"===e.type&&v.push(e),n(v)}))})),t.addEventListener("click",(()=>{y.splice(0,y.length),e.forEach((e=>{"List"===e.type&&y.push(e),n(y)}))}))})()})();